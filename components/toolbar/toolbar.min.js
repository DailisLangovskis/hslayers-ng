define(["angular","map","core","permalink"],function(angular){angular.module("hs.toolbar",["hs.map","hs.core"]).directive("hs.toolbar.directive",function(){return{templateUrl:hsl_path+"components/toolbar/partials/toolbar.html?bust="+gitsha}}).controller("hs.toolbar.controller",["$scope","hs.map.service","Core","hs.permalink.service_url","$window",function(e,o,t,i,n){e.Core=t;var r=!1;e.setMainPanel=function(o,i,n){t.setMainPanel(o,i,n),e.$$phase||e.$digest()},e.collapsed=function(e){return arguments.length>0&&(r=e),r},e.isMobile=function(){return $(document).width()<800?"mobile":""},e.$on("core.map_reset",function(o){delete e.composition_title,delete e.composition_abstract,e.$$phase||e.$digest()}),e.compositionLoaded=function(){return angular.isDefined(e.composition_title)},e.$emit("scope_loaded","Toolbar")}])});