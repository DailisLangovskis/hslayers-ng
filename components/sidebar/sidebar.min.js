define(["angular","map","core","permalink","ngcookies"],function(angular){angular.module("hs.sidebar",["hs.map","hs.core","ngCookies"]).service("hs.sidebar.service",["config","$rootScope","hs.utils.service",function(e,i,n){this.extra_buttons=[]}]).directive("hs.sidebar.directive",["$compile",function(e){return{templateUrl:hsl_path+"components/sidebar/partials/sidebar.html?bust="+gitsha,link:function(i,n,a){angular.isDefined(i.Core.config.createExtraMenu)&&i.Core.config.createExtraMenu(e,i,n),i.$watch(function(){return[i.Core.sidebarExpanded,angular.element(".panelspace").width()]},function(e){setTimeout(function(){i.Core.updateMapSize()},0),i.$emit("sidebar_change",i.Core.sidebarExpanded)},!0)}}}]).directive("hs.minisidebar.directive",["$compile",function(e){return{templateUrl:hsl_path+"components/sidebar/partials/minisidebar.html?bust="+gitsha,link:function(i,n,a){angular.isDefined(i.Core.config.createExtraMenu)&&i.Core.config.createExtraMenu(e,i,n),i.$watch(function(){return[i.Core.sidebarExpanded,angular.element(".panelspace").width()]},function(e){setTimeout(function(){i.Core.updateMapSize()},0),i.$emit("sidebar_change",i.Core.sidebarExpanded)},!0)}}}]).controller("hs.sidebar.controller",["$scope","hs.map.service","Core","hs.permalink.service_url","$window","$cookies","hs.sidebar.service",function(e,i,n,a,r,t,s){e.Core=n,e.setMainPanel=function(i,a){n.setMainPanel(i,!0,a),e.$$phase||e.$digest()},a.getParamValue("hs_panel")&&e.setMainPanel(a.getParamValue("hs_panel")),e.service=s,e.toggleSidebar=function(){e.Core.sidebarExpanded=!e.Core.sidebarExpanded},e.$emit("scope_loaded","Sidebar")}])});