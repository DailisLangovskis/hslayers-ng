define(["angular"],function(angular){angular.module("hs.drag",[]).directive("hs.draggable",["$document","$window","config",function(n,e,o){return function(t,a,i){function s(){return angular.isUndefined(i.iswindow)||"true"==i.iswindow}function d(n){l=g+n.pageY-u,f=c+n.pageX-r,t[i.hsDraggableOnmove](f+a.width()/2,l+a.height()/2),a.css({top:l+"px",left:f+"px"})}function p(){n.off("mousemove",d),n.off("mouseup",p)}if(!s()||!angular.isUndefined(o.draggable_windows)&&0!=o.draggable_windows){var r=0,u=0,f=0,l=0;a.css({cursor:"pointer",display:"block"}),t.unpinned=!1,t.drag_panel=a;var c,g;$(".panel-heading:first",a).append($("<button>").attr("type","button").addClass("but-title-sm").click(function(){t.unpinned=!0,$(".panel-heading",a).css("cursor","move")}).append($("<span>").addClass("glyphicon glyphicon-share").attr("aria-hidden","true")).append($("<span>").addClass("sr-only").attr("translate","").html("Unpin"))),a.on("mousedown",function(o){if((t.unpinned||!s())&&(o.preventDefault(),!(o.offsetY>37))){if(c=a.offset().left,g=a.offset().top,u=o.pageY,r=o.pageX,a.parent()[0]!=document.body){angular.element(e);a.css("width",a.width()+"px"),t.original_container=a.parent()[0],a.appendTo($(document.body)),a.css({top:g+"px",left:c+"px",position:"absolute"})}n.on("mousemove",d),n.on("mouseup",p)}})}}}])});