"undefined"!=typeof hslMin&&1==hslMin?hslMin=".min":hslMin="",require.config({paths:{dc:requirejs.s.contexts._.config.paths.dc||"//cdnjs.cloudflare.com/ajax/libs/dc/1.7.0/dc",ol:requirejs.s.contexts._.config.paths.ol||hsl_path+"node_modules/openlayers/dist/ol",angular:hsl_path+"bower_components/angular/angular"+hslMin,"angular-sanitize":hsl_path+"bower_components/angular-sanitize/angular-sanitize"+hslMin,"angular-gettext":hsl_path+"bower_components/angular-gettext/dist/angular-gettext"+hslMin,"angularjs-socialshare":hsl_path+"bower_components/angularjs-socialshare/dist/angular-socialshare"+hslMin,bootstrap:requirejs.s.contexts._.config.paths.bootstrap||hsl_path+"bower_components/bootstrap/dist/js/bootstrap"+hslMin,crossfilter:requirejs.s.contexts._.config.paths.crossfilter||hsl_path+"bower_components/crossfilter/crossfilter"+hslMin,draw:hsl_path+"components/draw/draw",d3:requirejs.s.contexts._.config.paths.d3||hsl_path+"bower_components/d3/d3"+hslMin,ngcookies:hsl_path+"bower_components/angular-cookies/angular-cookies"+hslMin,proj4:requirejs.s.contexts._.config.paths.proj4||hsl_path+"bower_components/proj4/dist/proj4",xml2json:requirejs.s.contexts._.config.paths.xml2json||hsl_path+"bower_components/xml2json/xml2json",api:requirejs.s.contexts._.config.paths.api||hsl_path+"components/api/api"+hslMin,compositions:hsl_path+"components/compositions/compositions"+hslMin,datasource_selector:hsl_path+"components/datasource_selector/datasource_selector"+hslMin,drag:hsl_path+"components/drag/drag"+hslMin,geojson:requirejs.s.contexts._.config.paths.geojson||hsl_path+"components/layers/hs.source.GeoJSON"+hslMin,geolocation:requirejs.s.contexts._.config.paths.geolocation||hsl_path+"components/geolocation/geolocation"+hslMin,info:requirejs.s.contexts._.config.paths.info||hsl_path+"components/info/info"+hslMin,layermanager:hsl_path+"components/layermanager/layermanager"+hslMin,legend:hsl_path+"components/legend/legend"+hslMin,lodexplorer:hsl_path+"components/lodexplorer/lodexplorer"+hslMin,map:hsl_path+"components/map/map"+hslMin,measure:hsl_path+"components/measure/measure"+hslMin,mobile_toolbar:requirejs.s.contexts._.config.paths.mobile_toolbar||hsl_path+"components/mobile_toolbar/mobile_toolbar",mobile_settings:requirejs.s.contexts._.config.paths.mobile_settings||hsl_path+"components/mobile_settings/mobile_settings",ows:hsl_path+"components/ows/ows"+hslMin,"ows.nonwms":hsl_path+"components/ows/ows_nonwms"+hslMin,"ows.wfs":hsl_path+"components/ows/ows_wfs"+hslMin,"ows.wms":hsl_path+"components/ows/ows_wms"+hslMin,"ows.wmts":hsl_path+"components/ows/ows_wmts"+hslMin,"ows.wmsprioritized":hsl_path+"components/ows/ows_wmsprioritized"+hslMin,panoramio:hsl_path+"components/layers/panoramio/panoramio"+hslMin,permalink:requirejs.s.contexts._.config.paths.permalink||hsl_path+"components/permalink/permalink"+hslMin,print:hsl_path+"components/print/print"+hslMin,query:hsl_path+"components/query/query"+hslMin,sidebar:requirejs.s.contexts._.config.paths.sidebar||hsl_path+"components/sidebar/sidebar"+hslMin,search:hsl_path+"components/search/search"+hslMin,SparqlJson:requirejs.s.contexts._.config.paths.SparqlJson||hsl_path+"components/layers/hs.source.SparqlJson"+hslMin,status_creator:hsl_path+"components/status_creator/status_creator"+hslMin,styles:hsl_path+"components/styles/styles"+hslMin,toolbar:requirejs.s.contexts._.config.paths.toolbar||hsl_path+"components/toolbar/toolbar"+hslMin,translations:requirejs.s.contexts._.config.paths.translations||hsl_path+"components/translations/js/translations",utils:hsl_path+"components/utils"+hslMin,WFSCapabilities:requirejs.s.contexts._.config.paths.WFSCapabilities||hsl_path+"components/format/hs.format.WFSCapabilities"+hslMin,olPopup:requirejs.s.contexts._.config.paths.olPopup||hsl_path+"components/format/ol.popup"+hslMin,WfsSource:requirejs.s.contexts._.config.paths.WfsSource||hsl_path+"components/layers/hs.source.Wfs"+hslMin,routing:hsl_path+"components/routing/routing"+hslMin,tracking:hsl_path+"components/tracking/tracking"+hslMin,s4a:requirejs.s.contexts._.config.paths.s4a||hsl_path+"bower_components/s4a-js/dist/s4a.min",dragdroplists:hsl_path+"bower_components/angular-drag-and-drop-lists/angular-drag-and-drop-lists"+hslMin,ngfocusif:hsl_path+"bower_components/ng-focus-if/focusIf"+hslMin,updateMeta:hsl_path+"bower_components/angular-update-meta/dist/update-meta"+hslMin,socketio:hsl_path+"bower_components/socket.io-client/socket.io"+hslMin,rtserver:requirejs.s.contexts._.config.paths.rtserver||hsl_path+"components/rtserver/rtserver"+hslMin,config_parsers:hsl_path+"components/compositions/config_parsers"+hslMin},shim:{angular:{exports:"angular"},"angularjs-socialshare":{deps:["angular"]},ngfocusif:{deps:["angular"]},"angular-sanitize":{deps:["angular"]},dragdroplists:{deps:["angular"]},updateMeta:{deps:["angular"]},"angular-gettext":{deps:["angular"]},ngcookies:{deps:["angular"]},translations:{deps:["angular-gettext"]}},priority:["angular"]}),define(["angular","angular-gettext","translations","ol","map","drag","api","proj4"],function(angular,e){angular.module("hs.core",["hs.map","gettext","gettext","hs.drag","hs.api"]).service("Core",["$rootScope","$controller","$window","hs.map.service","gettextCatalog","config","$templateCache",function(s,n,t,a,o,i,r){function l(e,s,n){var t={};return void 0===n&&(n=!0),s.height.indexOf("%")>-1?(t.height=Math.round(e.height()/100*s.height.slice(0,-1)),t.width=Math.round(e.width()/100*s.width.slice(0,-1))):(s.height.indexOf("px")>-1?t.height=s.height.slice(0,-2):t.height=s.height,t.height<e.height()&&!n&&(t.height=e.height()),s.width.indexOf("px")>-1?t.width=s.width.slice(0,-2):t.width=s.width,t.width<e.width()&&!n&&(t.width=e.width())),t}var h={config:i,scopes_registered:[],mainpanel:"",defaultPanel:"",sidebarExpanded:!1,sidebarRight:!0,sidebarLabels:!0,sidebarToggleable:!0,sidebarButtons:!0,classicSidebar:!0,singleDatasources:!1,embededEnabled:!0,smallWidth:!1,panel_statuses:{},panel_enabled:{},_exist_cache:{},current_panel_queryable:!1,hsSize:{height:"100%",width:"100%"},puremapApp:!1,language:"en",setMainPanel:function(e,n,t){e==h.mainpanel&&n?(e="",1==h.sidebarExpanded&&(h.sidebarLabels=!0)):(h.sidebarExpanded=!0,h.sidebarLabels=!1),h.mainpanel=e,h.current_panel_queryable=void 0===t||t,s.$$phase||s.$digest(),s.$broadcast("core.mainpanel_changed")},setDefaultPanel:function(e){h.defaultPanel=e,h.setMainPanel(e)},updateMapSize:function(){var e=$("div[hs]"),n=$("#map"),t=$(".panelspace");h.puremapApp?n.width(e.width()):e.width()>t.width()?n.width(e.width()-t.width()):n.width(0),angular.isDefined(a.map)&&a.map.updateSize(),n.width()<368?h.smallWidth=!0:h.smallWidth=!1,s.$$phase||s.$digest()},panelVisible:function(e,s){return angular.isDefined(s)&&angular.isUndefined(s.panel_name)&&(s.panel_name=e),angular.isDefined(h.panel_statuses[e])?h.panel_statuses[e]:h.mainpanel==e||angular.isDefined(s)&&s.unpinned},panelEnabled:function(e,s){if(void 0===s)return!angular.isDefined(h.panel_enabled[e])||h.panel_enabled[e];h.panel_enabled[e]=s},hidePanels:function(){h.mainpanel="",h.sidebarLabels=!0,h.exists("hs.sidebar.controller")||(h.sidebarExpanded=!1),s.$$phase||s.$digest(),s.$broadcast("core.mainpanel_changed")},closePanel:function(e){e.unpinned&&(e.drag_panel.appendTo($(e.original_container)),e.drag_panel.css({top:"auto",left:"auto",position:"relative"})),e.unpinned=!1,e.panel_name==h.mainpanel&&(""!=h.defaultPanel?h.setMainPanel(h.defaultPanel):(h.mainpanel="",h.sidebarLabels=!0),h.exists("hs.sidebar.controller")||(h.sidebarExpanded=!1)),s.$broadcast("core.mainpanel_changed",e)},exists:function(e){if(angular.isDefined(h._exist_cache[e]))return!0;if("function"==typeof window[e])return!0;try{return n(e),h._exist_cache[e]=!0,!0}catch(n){var s=!(n instanceof TypeError);return s&&(h._exist_cache[e]=!0),s}},init:function(e,s){if(void 0==typeof s)h.fullScreenMap(e);else if("self"==s)h.appSize(e,e);else if("parent"==s)h.appSize(e,e.parent());else{var n="#"+s;h.appSize(e,$(n))}},fullScreenMap:function(e){$("html").css("overflow","hidden"),$("html").css("height","100%"),$("body").css("height","100%");var s=angular.element(t);h.appSize(e,s)},appSize:function(e,n){h.changeSize(e,n),angular.element(t).resize(function(){h.changeSize(e,n)}),s.$on("Core_sizeChanged",function(){h.changeSize(e,n)}),$(function(){h.changeSize(e,n)})},changeSize:function(e,s){if(e===s&&h.hsSize.height.indexOf("%")>-1)n=l(e.parent(),h.hsSize);else n=l(s,h.hsSize);var n=l(s,h.hsSize);e[0].style.height=n.height+"px",e[0].style.width=n.width+"px",$("#map").height(n.height),h.updateMapSize()},changeSizeConfig:function(e,n){h.hsSize.height=e,h.hsSize.width=n,s.$broadcast("Core_sizeChanged")},setLanguage:function(e){switch(e){case"cs_CZ":e="cs";break;case"nl_BE":e="nl"}o.setCurrentLanguage(e),h.language=e},openStatusCreator:function(){hslayers_api.gui.StatusCreator.open()},searchVisible:function(e){return arguments.length>0&&(h.panel_statuses.search=e),h.panel_statuses.search},isAuthorized:function(){return!(!angular.isDefined(window.getLRUser)||"guest"==window.getLRUser())},resetMap:function(){a.reset(),s.$broadcast("core.map_reset",{})},isMobile:function(){return screen.width<800?"mobile":""}};r.removeAll(),h.exists("hs.sidebar.controller")&&(h.sidebarExpanded=!0),""!=h.defaultPanel&&h.setMainPanel(h.defaultPanel);try{void 0!=typeof require("proj4")&&require(["proj4"],function(){window.proj4=e})}catch(s){require(["proj4"],function(){window.proj4=e})}return h}])});