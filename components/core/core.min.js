"undefined"!=typeof hslMin&&1==hslMin?hslMin=".min":hslMin="",console&&console.log(hslMin);var nm_path=hsl_path.indexOf("node_modules")>-1?"node_modules/":hsl_path+"node_modules/";require.config({paths:{dc:requirejs.s.contexts._.config.paths.dc||"//cdnjs.cloudflare.com/ajax/libs/dc/1.7.0/dc",ol:requirejs.s.contexts._.config.paths.ol||(".min"==hslMin?nm_path+"openlayers/dist/ol":nm_path+"openlayers/dist/ol-debug"),angular:nm_path+"angular/angular"+hslMin,"angular-sanitize":nm_path+"angular-sanitize/angular-sanitize"+hslMin,"angular-gettext":nm_path+"angular-gettext/dist/angular-gettext"+hslMin,"angularjs-socialshare":nm_path+"angular-socialshare/dist/angular-socialshare"+hslMin,bootstrap:requirejs.s.contexts._.config.paths.bootstrap||nm_path+"bootstrap/dist/js/bootstrap"+hslMin,crossfilter:requirejs.s.contexts._.config.paths.crossfilter||nm_path+"crossfilter/crossfilter"+hslMin,draw:hsl_path+"components/draw/draw",d3:requirejs.s.contexts._.config.paths.d3||nm_path+"d3/d3"+hslMin,ngcookies:nm_path+"angular-cookies/angular-cookies"+hslMin,proj4:requirejs.s.contexts._.config.paths.proj4||nm_path+"proj4/dist/proj4",api:requirejs.s.contexts._.config.paths.api||hsl_path+"components/api/api"+hslMin,compositions:hsl_path+"components/compositions/compositions"+hslMin,datasource_selector:hsl_path+"components/datasource_selector/datasource_selector"+hslMin,drag:hsl_path+"components/drag/drag"+hslMin,geojson:requirejs.s.contexts._.config.paths.geojson||hsl_path+"components/layers/hs.source.GeoJSON"+hslMin,geolocation:requirejs.s.contexts._.config.paths.geolocation||hsl_path+"components/geolocation/geolocation"+hslMin,info:requirejs.s.contexts._.config.paths.info||hsl_path+"components/info/info"+hslMin,layermanager:hsl_path+"components/layermanager/layermanager"+hslMin,legend:hsl_path+"components/legend/legend"+hslMin,lodexplorer:hsl_path+"components/lodexplorer/lodexplorer"+hslMin,map:hsl_path+"components/map/map"+hslMin,measure:hsl_path+"components/measure/measure"+hslMin,mobile_toolbar:requirejs.s.contexts._.config.paths.mobile_toolbar||hsl_path+"components/mobile_toolbar/mobile_toolbar",mobile_settings:requirejs.s.contexts._.config.paths.mobile_settings||hsl_path+"components/mobile_settings/mobile_settings",ows:hsl_path+"components/ows/ows"+hslMin,"ows.nonwms":hsl_path+"components/ows/ows_nonwms"+hslMin,"ows.wfs":hsl_path+"components/ows/ows_wfs"+hslMin,"ows.wms":hsl_path+"components/ows/ows_wms"+hslMin,"ows.wmts":hsl_path+"components/ows/ows_wmts"+hslMin,"ows.wmsprioritized":hsl_path+"components/ows/ows_wmsprioritized"+hslMin,panoramio:hsl_path+"components/layers/panoramio/panoramio"+hslMin,permalink:requirejs.s.contexts._.config.paths.permalink||hsl_path+"components/permalink/permalink"+hslMin,print:hsl_path+"components/print/print"+hslMin,query:hsl_path+"components/query/query"+hslMin,sidebar:requirejs.s.contexts._.config.paths.sidebar||hsl_path+"components/sidebar/sidebar"+hslMin,search:hsl_path+"components/search/search"+hslMin,SparqlJson:requirejs.s.contexts._.config.paths.SparqlJson||hsl_path+"components/layers/hs.source.SparqlJson"+hslMin,status_creator:hsl_path+"components/status_creator/status_creator"+hslMin,styles:hsl_path+"components/styles/styles"+hslMin,toolbar:requirejs.s.contexts._.config.paths.toolbar||hsl_path+"components/toolbar/toolbar"+hslMin,translations:requirejs.s.contexts._.config.paths.translations||hsl_path+"components/translations/js/translations",utils:hsl_path+"components/utils"+hslMin,WFSCapabilities:requirejs.s.contexts._.config.paths.WFSCapabilities||hsl_path+"components/format/hs.format.WFSCapabilities"+hslMin,olPopup:requirejs.s.contexts._.config.paths.olPopup||hsl_path+"components/format/ol.popup"+hslMin,WfsSource:requirejs.s.contexts._.config.paths.WfsSource||hsl_path+"components/layers/hs.source.Wfs"+hslMin,routing:hsl_path+"components/routing/routing"+hslMin,tracking:hsl_path+"components/tracking/tracking"+hslMin,dragdroplists:nm_path+"angular-drag-and-drop-lists/angular-drag-and-drop-lists"+hslMin,ngfocusif:nm_path+"ng-focus-if/focusIf"+hslMin,updateMeta:nm_path+"angular-update-meta/dist/update-meta"+hslMin,socketio:nm_path+"socket.io-client/socket.io"+hslMin,rtserver:requirejs.s.contexts._.config.paths.rtserver||hsl_path+"components/rtserver/rtserver"+hslMin,config_parsers:hsl_path+"components/compositions/config_parsers"+hslMin},shim:{angular:{exports:"angular"},"angularjs-socialshare":{deps:["angular"]},ngfocusif:{deps:["angular"]},"angular-sanitize":{deps:["angular"]},dragdroplists:{deps:["angular"]},updateMeta:{deps:["angular"]},"angular-gettext":{deps:["angular"]},ngcookies:{deps:["angular"]},translations:{deps:["angular-gettext"]}},priority:["angular"]}),define(["angular","angular-gettext","translations","ol","map","drag","api","proj4"],function(angular,e){angular.module("hs.core",["hs.map","gettext","gettext","hs.drag","hs.api"]).service("Core",["$rootScope","$controller","$window","hs.map.service","gettextCatalog","config","$templateCache","$timeout",function(s,n,t,i,a,o,r,l){var p={config:o,scopes_registered:[],mainpanel:"",defaultPanel:"",sidebarExpanded:!1,sidebarRight:!0,sidebarLabels:!0,sidebarToggleable:!0,sidebarButtons:!0,classicSidebar:!0,singleDatasources:!1,embededEnabled:!0,smallWidth:!1,panel_statuses:{},panel_enabled:{},_exist_cache:{},current_panel_queryable:!1,sizeOptions:{element:void 0,windowedMap:void 0,selector:void 0},puremapApp:!1,language:"en",setMainPanel:function(e,n,t){e==p.mainpanel&&n?(e="",1==p.sidebarExpanded&&(p.sidebarLabels=!0)):(p.sidebarExpanded=!0,p.sidebarLabels=!1),p.mainpanel=e,p.current_panel_queryable=void 0===t||t,s.$$phase||s.$digest(),s.$broadcast("core.mainpanel_changed")},setDefaultPanel:function(e){p.defaultPanel=e,p.setMainPanel(e)},panelVisible:function(e,s){return angular.isDefined(s)&&angular.isUndefined(s.panel_name)&&(s.panel_name=e),angular.isDefined(p.panel_statuses[e])?p.panel_statuses[e]:p.mainpanel==e||angular.isDefined(s)&&s.unpinned},panelEnabled:function(e,s){if(void 0===s)return!angular.isDefined(p.panel_enabled[e])||p.panel_enabled[e];p.panel_enabled[e]=s},hidePanels:function(){p.mainpanel="",p.sidebarLabels=!0,p.exists("hs.sidebar.controller")||(p.sidebarExpanded=!1),s.$$phase||s.$digest(),s.$broadcast("core.mainpanel_changed")},closePanel:function(e){e.unpinned&&(e.drag_panel.appendTo($(e.original_container)),e.drag_panel.css({top:"auto",left:"auto",position:"relative"})),e.unpinned=!1,e.panel_name==p.mainpanel&&(""!=p.defaultPanel?p.setMainPanel(p.defaultPanel):(p.mainpanel="",p.sidebarLabels=!0),p.exists("hs.sidebar.controller")||(p.sidebarExpanded=!1)),s.$broadcast("core.mainpanel_changed",e)},exists:function(e){if(angular.isDefined(p._exist_cache[e]))return!0;if("function"==typeof window[e])return!0;try{return n(e),p._exist_cache[e]=!0,!0}catch(n){var s=!(n instanceof TypeError);return s&&(p._exist_cache[e]=!0),s}},init:function(e,s){angular.isUndefined(s)&&(s={}),angular.isDefined(s.windowedMap)&&(p.sizeOptions.windowedMap=s.windowedMap),p.sizeOptions.element=e,angular.isDefined(s.innerElement)&&(p.sizeOptions.innerElement=$(s.innerElement)),angular.isDefined(s.parent)?(p.sizeOptions.selector=e.parent(),p.initSizeListeners(),p.updateElementSize()):angular.isDefined(s.element)?(p.sizeOptions.selector=$(s.element),p.initSizeListeners(),p.updateElementSize()):(p.initSizeListeners(),p.updateMapSize())},setSizeByContainer:function(e){p.sizeOptions.selector=1==e?p.sizeOptions.element.parent():$(options.element),p.updateElementSize()},setSizeByCSS:function(e,s){angular.isDefined(p.sizeOptions.selector)&&(p.sizeOptions.selector=void 0);var n=p.sizeOptions.element;n.height(e),n.width(s),p.updateMapSize()},initSizeListeners:function(){angular.element(t).resize(function(){void 0==p.sizeOptions.selector?p.updateMapSize():p.updateElementSize()}),s.$on("Core_sizeChanged",function(){void 0==p.sizeOptions.selector?p.updateMapSize():p.updateElementSize()}),$(function(){void 0==p.sizeOptions.selector?p.updateMapSize():p.updateElementSize()})},updateElementSize:function(){var e=p.sizeOptions.element,s=p.sizeOptions.selector;e.height(s.height()),e.width(s.width()),p.updateMapSize()},updateMapSize:function(){var e=angular.isDefined(p.sizeOptions.innerElement)?p.sizeOptions.innerElement:p.sizeOptions.element,n=$("#map"),t=$(".panelspace");n.height(e.height()),$("#cesiumContainer").height(n.height()),p.puremapApp?n.width(e.width()):e.width()>t.outerWidth()||0===t.length?n.width(e.width()-t.outerWidth()):n.width(0),angular.isDefined(i.map)&&i.map.updateSize(),n.width()<368?p.smallWidth=!0:p.smallWidth=!1,s.$$phase||s.$digest()},fullScreenMap:function(e){$("html").css("overflow","hidden"),$("html").css("height","100%"),$("body").css("height","100%"),p.sizeOptions.element=e,p.sizeOptions.selector=e.parent(),p.initSizeListeners(),p.updateElementSize()},setLanguage:function(e){switch(e){case"cs_CZ":e="cs";break;case"nl_BE":e="nl"}a.setCurrentLanguage(e),p.language=e},openStatusCreator:function(){s.$broadcast("StatusCreator.open")},searchVisible:function(e){return arguments.length>0&&(p.panel_statuses.search=e),p.panel_statuses.search},isAuthorized:function(){return!angular.isDefined(window.getLRUser)&&angular.isUndefined(p.missingLRFunctionsWarned)&&(console&&console.warn("window.getLRUser function needs to be defined, which usually comes from liferay."),p.missingLRFunctionsWarned=!0),!(!angular.isDefined(window.getLRUser)||"guest"==window.getLRUser())},resetMap:function(){i.reset(),s.$broadcast("core.map_reset",{})},isMobile:function(){return screen.width<800?"mobile":""},getNmPath:function(){return nm_path}};r.removeAll(),p.exists("hs.sidebar.controller")&&(p.sidebarExpanded=!0),""!=p.defaultPanel&&p.setMainPanel(p.defaultPanel);try{void 0!=typeof require("proj4")&&require(["proj4"],function(){window.proj4=e})}catch(s){require(["proj4"],function(){window.proj4=e})}return p}])});
