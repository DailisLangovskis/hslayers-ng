define(["ol"],function(ol){ol.Overlay.Popup=function(t){"function"!=typeof Object.assign&&(Object.assign=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n});var e=t||{};void 0===e.autoPan&&(e.autoPan=!0),void 0===e.autoPanAnimation&&(e.autoPanAnimation={duration:250}),this.container=document.createElement("div"),this.container.className="ol-popup",this.closer=document.createElement("a"),this.closer.className="ol-popup-closer",this.closer.href="#",this.container.appendChild(this.closer);var n=this;this.closer.addEventListener("click",function(t){n.container.style.display="none",n.closer.blur(),t.preventDefault()},!1),this.content=document.createElement("div"),this.content.className="ol-popup-content",this.container.appendChild(this.content),ol.Overlay.Popup.enableTouchScroll_(this.content),ol.Overlay.call(this,Object.assign(e,{element:this.container}))},ol.inherits(ol.Overlay.Popup,ol.Overlay),ol.Overlay.Popup.prototype.show=function(t,e){return e instanceof HTMLElement?(this.content.innerHTML="",this.content.appendChild(e)):this.content.innerHTML=e,this.container.style.display="block",this.content.scrollTop=0,this.setPosition(t),this},ol.Overlay.Popup.isTouchDevice_=function(){try{return document.createEvent("TouchEvent"),!0}catch(t){return!1}},ol.Overlay.Popup.enableTouchScroll_=function(t){if(ol.Overlay.Popup.isTouchDevice_()){var e=0;t.addEventListener("touchstart",function(t){e=this.scrollTop+t.touches[0].pageY},!1),t.addEventListener("touchmove",function(t){this.scrollTop=e-t.touches[0].pageY},!1)}},ol.Overlay.Popup.prototype.hide=function(){return this.container.style.display="none",this},ol.Overlay.Popup.prototype.isOpened=function(){return"block"==this.container.style.display}});