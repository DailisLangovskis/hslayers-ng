angular.module("gettext").directive("translate",function(t,e,n,a,r){function l(t,e,n){if(!t)throw new Error("You should add a "+e+" attribute whenever you add a "+n+" attribute.")}var u=String.prototype.trim?function(t){return"string"==typeof t?t.trim():t}:function(t){return"string"==typeof t?t.replace(/^\s*/,"").replace(/\s*$/,""):t},s=parseInt((/msie (\d+)/.exec(angular.lowercase(r.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(r,o){l(!o.translatePlural||o.translateN,"translate-n","translate-plural"),l(!o.translateN||o.translatePlural,"translate-plural","translate-n");var i=u(r.html()),c=o.translatePlural,g=o.translateContext;return s<=8&&"\x3c!--IE fix--\x3e"===i.slice(-13)&&(i=i.slice(0,-13)),{post:function(r,l,u){function s(){var e;c?((r=p||(p=r.$new())).$count=o(r),e=t.getPlural(r.$count,i,c,null,g)):e=t.getString(i,null,g);var u=angular.element("<span>"+e+"</span>");a(u.contents())(r);var s=l.contents(),f=u.contents();n.enter(f,l),n.leave(s)}var o=e(u.translateN),p=null;u.translateN&&r.$watch(u.translateN,s),r.$on("gettextLanguageChanged",s),s()}}}}});